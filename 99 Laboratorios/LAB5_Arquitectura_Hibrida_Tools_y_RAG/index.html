
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../LAB4_Dataverse_y_Datos_Estructurados/">
      
      
        <link rel="next" href="../LAB6_Evaluacion_Seguridad_y_Gobierno/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>LAB 5 — Arquitectura híbrida: Tools (Dataverse) + RAG (documentos) - RAG con Copilot Studio</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-5-arquitectura-hibrida-tools-dataverse-rag-documentos" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="RAG con Copilot Studio" class="md-header__button md-logo" aria-label="RAG con Copilot Studio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RAG con Copilot Studio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              LAB 5 — Arquitectura híbrida: Tools (Dataverse) + RAG (documentos)
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Seminario: RAG y Copilot Studio

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../01%20Fundamentos%20RAG/sesion1_1_arquitectura_rag_entorno_empresarial/" class="md-tabs__link">
          
  
  
  01 Fundamentos RAG

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../02%20Origenes%20Conocimiento/sesion2_1_origenes_soportados_y_tratamiento/" class="md-tabs__link">
          
  
  
  02 Origenes Conocimiento

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../03%20Herramientas%20y%20Datos%20Estructurados/sesion3_1_cuando_rag_no_es_suficiente/" class="md-tabs__link">
          
  
  
  03 Herramientas y Datos Estructurados

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../04%20Evaluaci%C3%B3n%2C%20Seguridad%20y%20Gobierno/sesion4_1_evaluacion_calidad/" class="md-tabs__link">
          
  
  
  04 Evaluación, Seguridad y Gobierno

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../00%20indice/" class="md-tabs__link">
          
  
  
  99 Laboratorios

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="RAG con Copilot Studio" class="md-nav__button md-logo" aria-label="RAG con Copilot Studio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    RAG con Copilot Studio
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Seminario: RAG y Copilot Studio
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    01 Fundamentos RAG
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    01 Fundamentos RAG
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01%20Fundamentos%20RAG/sesion1_1_arquitectura_rag_entorno_empresarial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesión 1.1 — Arquitectura RAG en entorno empresarial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01%20Fundamentos%20RAG/sesion1_2_proceso_indexacion_documental/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesión 1.2 — Proceso de indexación documental
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01%20Fundamentos%20RAG/sesion1_3_embeddings_y_recuperacion_semantica/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesión 1.3 — Embeddings y recuperación semántica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    02 Origenes Conocimiento
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    02 Origenes Conocimiento
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20Origenes%20Conocimiento/sesion2_1_origenes_soportados_y_tratamiento/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SESIÓN 2.1 — Orígenes soportados y su tratamiento en Copilot Studio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20Origenes%20Conocimiento/sesion2_2_diferencias_operativas_clave/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SESIÓN 2.2 — Diferencias operativas clave
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20Origenes%20Conocimiento/sesion2_3_factores_calidad_recuperacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SESIÓN 2.3 — Factores que influyen en la calidad del sistema
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    03 Herramientas y Datos Estructurados
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    03 Herramientas y Datos Estructurados
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03%20Herramientas%20y%20Datos%20Estructurados/sesion3_1_cuando_rag_no_es_suficiente/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesión 3.1 — Cuándo RAG no es suficiente
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03%20Herramientas%20y%20Datos%20Estructurados/sesion3_2_uso_herramientas_copilot_studio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesión 3.2 — Uso de herramientas en Copilot Studio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03%20Herramientas%20y%20Datos%20Estructurados/sesion3_3_datos_estructurados_y_agente_datos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesión 3.3 — Datos estructurados y “agentes de datos”
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    04 Evaluación, Seguridad y Gobierno
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    04 Evaluación, Seguridad y Gobierno
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04%20Evaluaci%C3%B3n%2C%20Seguridad%20y%20Gobierno/sesion4_1_evaluacion_calidad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesión 4.1 — Evaluación de calidad en sistemas RAG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04%20Evaluaci%C3%B3n%2C%20Seguridad%20y%20Gobierno/sesion4_2_evaluacion_en_copilot_studio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesión 4.2 — Evaluación en Copilot Studio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04%20Evaluaci%C3%B3n%2C%20Seguridad%20y%20Gobierno/sesion4_3_seguridad_y_gobierno/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesión 4.3 — Seguridad y control empresarial en un sistema RAG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04%20Evaluaci%C3%B3n%2C%20Seguridad%20y%20Gobierno/sesion4_4_citaciones_y_trazabilidad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesión 4.4 — Citaciones y trazabilidad en RAG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    99 Laboratorios
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    99 Laboratorios
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00%20indice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Caso FraSoHome — Laboratorios (Copilot Studio + RAG + Dataverse)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB2_Base_de_conocimiento_RAG_en_Copilot_Studio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LAB 2 — Base de conocimiento (RAG) en Copilot Studio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB3_Prompting_Citaciones_y_Control_de_Fallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LAB 3 — Prompting, citaciones y seguridad (control de versionado + prompt injection)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB4_Dataverse_y_Datos_Estructurados/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LAB 4 — Dataverse: crear tablas e importar datos estructurados (CSV)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    LAB 5 — Arquitectura híbrida: Tools (Dataverse) + RAG (documentos)
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    LAB 5 — Arquitectura híbrida: Tools (Dataverse) + RAG (documentos)
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#material-del-lab" class="md-nav__link">
    <span class="md-ellipsis">
      
        Material del lab
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Material del lab">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#documentos-de-conocimiento-knowledge-que-deben-estar-cargados" class="md-nav__link">
    <span class="md-ellipsis">
      
        Documentos de conocimiento (Knowledge) que DEBEN estar cargados:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tablas-dataverse-que-deben-existir" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tablas Dataverse que DEBEN existir:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preguntas-que-vas-a-probar-al-final-ya-te-las-damos-aqui" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preguntas que vas a probar al final (ya te las damos aquí)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-a-paso" class="md-nav__link">
    <span class="md-ellipsis">
      
        Paso a paso
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paso a paso">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-anadir-herramientas-tools-desde-el-conector-microsoft-dataverse" class="md-nav__link">
    <span class="md-ellipsis">
      
        1) Añadir herramientas (Tools) desde el conector Microsoft Dataverse
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1) Añadir herramientas (Tools) desde el conector Microsoft Dataverse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crea-estas-3-herramientas-repitiendo-el-proceso" class="md-nav__link">
    <span class="md-ellipsis">
      
        Crea estas 3 herramientas (repitiendo el proceso):
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-crear-el-topic-consultas-metricas-recoge-parametros-y-decide-que-tool-usar" class="md-nav__link">
    <span class="md-ellipsis">
      
        2) Crear el topic 'Consultas métricas' (recoge parámetros y decide qué Tool usar)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-rama-a-ventas-netas-tool-calculo-con-power-fx" class="md-nav__link">
    <span class="md-ellipsis">
      
        3) Rama A — Ventas netas (Tool + cálculo con Power Fx)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3) Rama A — Ventas netas (Tool + cálculo con Power Fx)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#power-fx-copiar-y-pegar-filtrado-y-suma" class="md-nav__link">
    <span class="md-ellipsis">
      
        Power Fx (copiar y pegar) — Filtrado y suma
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-rama-b-tasa-de-devolucion-tool-calculo-definicion-citada" class="md-nav__link">
    <span class="md-ellipsis">
      
        4) Rama B — Tasa de devolución (Tool + cálculo + definición citada)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4) Rama B — Tasa de devolución (Tool + cálculo + definición citada)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#power-fx-copiar-y-pegar-devoluciones-aprobadas-y-ratio" class="md-nav__link">
    <span class="md-ellipsis">
      
        Power Fx (copiar y pegar) — Devoluciones aprobadas y ratio
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prompt-sugerido-para-el-nodo-create-generative-answers-definicion-kpi" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prompt sugerido para el nodo Create generative answers (definición KPI)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opcional-rama-c-alertas-stockout" class="md-nav__link">
    <span class="md-ellipsis">
      
        (Opcional) Rama C — Alertas stockout
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-pruebas-guiadas-con-resultados-esperados" class="md-nav__link">
    <span class="md-ellipsis">
      
        5) Pruebas guiadas (con resultados esperados)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checklist-de-entrega" class="md-nav__link">
    <span class="md-ellipsis">
      
        Checklist de entrega
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LAB6_Evaluacion_Seguridad_y_Gobierno/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LAB 6 — Evaluación, seguridad y gobierno del asistente
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#material-del-lab" class="md-nav__link">
    <span class="md-ellipsis">
      
        Material del lab
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Material del lab">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#documentos-de-conocimiento-knowledge-que-deben-estar-cargados" class="md-nav__link">
    <span class="md-ellipsis">
      
        Documentos de conocimiento (Knowledge) que DEBEN estar cargados:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tablas-dataverse-que-deben-existir" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tablas Dataverse que DEBEN existir:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preguntas-que-vas-a-probar-al-final-ya-te-las-damos-aqui" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preguntas que vas a probar al final (ya te las damos aquí)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-a-paso" class="md-nav__link">
    <span class="md-ellipsis">
      
        Paso a paso
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paso a paso">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-anadir-herramientas-tools-desde-el-conector-microsoft-dataverse" class="md-nav__link">
    <span class="md-ellipsis">
      
        1) Añadir herramientas (Tools) desde el conector Microsoft Dataverse
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1) Añadir herramientas (Tools) desde el conector Microsoft Dataverse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crea-estas-3-herramientas-repitiendo-el-proceso" class="md-nav__link">
    <span class="md-ellipsis">
      
        Crea estas 3 herramientas (repitiendo el proceso):
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-crear-el-topic-consultas-metricas-recoge-parametros-y-decide-que-tool-usar" class="md-nav__link">
    <span class="md-ellipsis">
      
        2) Crear el topic 'Consultas métricas' (recoge parámetros y decide qué Tool usar)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-rama-a-ventas-netas-tool-calculo-con-power-fx" class="md-nav__link">
    <span class="md-ellipsis">
      
        3) Rama A — Ventas netas (Tool + cálculo con Power Fx)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3) Rama A — Ventas netas (Tool + cálculo con Power Fx)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#power-fx-copiar-y-pegar-filtrado-y-suma" class="md-nav__link">
    <span class="md-ellipsis">
      
        Power Fx (copiar y pegar) — Filtrado y suma
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-rama-b-tasa-de-devolucion-tool-calculo-definicion-citada" class="md-nav__link">
    <span class="md-ellipsis">
      
        4) Rama B — Tasa de devolución (Tool + cálculo + definición citada)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4) Rama B — Tasa de devolución (Tool + cálculo + definición citada)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#power-fx-copiar-y-pegar-devoluciones-aprobadas-y-ratio" class="md-nav__link">
    <span class="md-ellipsis">
      
        Power Fx (copiar y pegar) — Devoluciones aprobadas y ratio
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prompt-sugerido-para-el-nodo-create-generative-answers-definicion-kpi" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prompt sugerido para el nodo Create generative answers (definición KPI)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opcional-rama-c-alertas-stockout" class="md-nav__link">
    <span class="md-ellipsis">
      
        (Opcional) Rama C — Alertas stockout
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-pruebas-guiadas-con-resultados-esperados" class="md-nav__link">
    <span class="md-ellipsis">
      
        5) Pruebas guiadas (con resultados esperados)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checklist-de-entrega" class="md-nav__link">
    <span class="md-ellipsis">
      
        Checklist de entrega
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navegación" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    Seminario: RAG y Copilot Studio
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../00%20indice/" class="md-path__link">
          
  <span class="md-ellipsis">
    99 Laboratorios
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="lab-5-arquitectura-hibrida-tools-dataverse-rag-documentos">LAB 5 — Arquitectura híbrida: Tools (Dataverse) + RAG (documentos)<a class="headerlink" href="#lab-5-arquitectura-hibrida-tools-dataverse-rag-documentos" title="Permanent link">&para;</a></h1>
<p>Objetivo: habilitar al agente para responder preguntas métricas (datos estructurados) y, al mismo tiempo, citar definiciones oficiales de KPIs desde la base documental (RAG).</p>
<table>
<thead>
<tr>
<th>Duración estimada</th>
<th>90–120 min</th>
</tr>
</thead>
<tbody>
<tr>
<td>Entregables</td>
<td>1) 2–3 herramientas (Tools) de Dataverse configuradas. 2) Un topic 'Consultas métricas' que llama a herramientas, calcula y responde. 3) Pruebas con preguntas métricas + citación de KPI.</td>
</tr>
<tr>
<td>Prerrequisitos</td>
<td>LAB 2–4 completados: documentos en Knowledge + tablas en Dataverse creadas y con datos.</td>
</tr>
</tbody>
</table>
<h2 id="material-del-lab">Material del lab<a class="headerlink" href="#material-del-lab" title="Permanent link">&para;</a></h2>
<h3 id="documentos-de-conocimiento-knowledge-que-deben-estar-cargados">Documentos de conocimiento (Knowledge) que DEBEN estar cargados:<a class="headerlink" href="#documentos-de-conocimiento-knowledge-que-deben-estar-cargados" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>FS-KB-03_Diccionario_KPI_Reglas_Calculo_v1.0.docx (definiciones KPI)</p>
</li>
<li>
<p>FS-KB-08_Politica_Datos_y_Permisos_Asistente_v1.0.docx (permisos/uso de datos)</p>
</li>
</ul>
<h3 id="tablas-dataverse-que-deben-existir">Tablas Dataverse que DEBEN existir:<a class="headerlink" href="#tablas-dataverse-que-deben-existir" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>FS Ventas Resumen Diario</p>
</li>
<li>
<p>FS Devoluciones</p>
</li>
<li>
<p>FS Alertas Stockout</p>
</li>
</ul>
<h3 id="preguntas-que-vas-a-probar-al-final-ya-te-las-damos-aqui">Preguntas que vas a probar al final (ya te las damos aquí)<a class="headerlink" href="#preguntas-que-vas-a-probar-al-final-ya-te-las-damos-aqui" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>“Dame las ventas netas online entre 2026-02-01 y 2026-02-15”</p>
</li>
<li>
<p>“Calcula la tasa de devolución en importe para Online en febrero 2026 y explícame la fórmula”</p>
</li>
<li>
<p>(Opcional) “Lista 5 devoluciones aprobadas con motivo R04 en enero 2026”</p>
</li>
</ul>
<h2 id="paso-a-paso">Paso a paso<a class="headerlink" href="#paso-a-paso" title="Permanent link">&para;</a></h2>
<h3 id="1-anadir-herramientas-tools-desde-el-conector-microsoft-dataverse">1) Añadir herramientas (Tools) desde el conector Microsoft Dataverse<a class="headerlink" href="#1-anadir-herramientas-tools-desde-el-conector-microsoft-dataverse" title="Permanent link">&para;</a></h3>
<p>Vas a crear herramientas de SOLO LECTURA (List rows) para consultar Dataverse.</p>
<ul>
<li>
<p>En Copilot Studio, abre tu agente FraSoHome.</p>
</li>
<li>
<p>Ve a la pestaña Tools (Herramientas).</p>
</li>
<li>
<p>Selecciona Add a tool (Agregar una herramienta).</p>
</li>
<li>
<p>Selecciona Connector (Conector).</p>
</li>
<li>
<p>Busca y selecciona Microsoft Dataverse.</p>
</li>
<li>
<p>Selecciona la acción/herramienta: List rows from selected environment (Listar filas del entorno seleccionado).</p>
</li>
<li>
<p>Si te lo pide, selecciona Create new connection (Crear nueva conexión) y autentica tu usuario.</p>
</li>
<li>
<p>Pulsa Submit/Create y luego Add and configure (Agregar y configurar).</p>
</li>
</ul>
<h4 id="crea-estas-3-herramientas-repitiendo-el-proceso">Crea estas 3 herramientas (repitiendo el proceso):<a class="headerlink" href="#crea-estas-3-herramientas-repitiendo-el-proceso" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Nombre sugerido del Tool</th>
<th>Tabla</th>
<th>Qué devuelve / para qué</th>
</tr>
</thead>
<tbody>
<tr>
<td>DV_ListSalesSummary</td>
<td>FS Ventas Resumen Diario</td>
<td>Filas con Date, Channel, StoreID, NetSalesEUR, Orders (para sumar ventas).</td>
</tr>
<tr>
<td>DV_ListReturns</td>
<td>FS Devoluciones</td>
<td>Filas con ReturnDate, Channel, StoreID, RefundAmountEUR, ReasonCode, Approved, ReturnID (para contar/sumar devoluciones).</td>
</tr>
<tr>
<td>DV_ListStockoutAlerts (opcional)</td>
<td>FS Alertas Stockout</td>
<td>AlertDate, StoreID, SKU, Severity, Priority, SuggestedAction (para alertas).</td>
</tr>
</tbody>
</table>
<h3 id="2-crear-el-topic-consultas-metricas-recoge-parametros-y-decide-que-tool-usar">2) Crear el topic 'Consultas métricas' (recoge parámetros y decide qué Tool usar)<a class="headerlink" href="#2-crear-el-topic-consultas-metricas-recoge-parametros-y-decide-que-tool-usar" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Ve a Topics (Temas).</p>
</li>
<li>
<p>Selecciona New topic (Nuevo tema) &gt; From blank (En blanco).</p>
</li>
<li>
<p>Nombre: Consultas métricas.</p>
</li>
<li>
<p>Añade triggers (frases) como: 'ventas netas', 'tasa de devolución', 'devoluciones online', 'stockout', 'alertas de stock'.</p>
</li>
<li>
<p>En el lienzo del topic, añade un nodo Question para preguntar: “¿Qué métrica necesitas?” con opciones: (A) Ventas netas, (B) Tasa de devolución (importe), (C) Alertas stockout.</p>
</li>
<li>
<p>Guarda la opción elegida en una variable: Topic.Metrica.</p>
</li>
<li>
<p>Añade 4 nodos Question para capturar parámetros:</p>
</li>
<li>
<p>Fecha inicio → Topic.FechaInicio (tipo fecha).</p>
</li>
<li>
<p>Fecha fin → Topic.FechaFin (tipo fecha).</p>
</li>
<li>
<p>Canal → Topic.Canal (opciones: Online, Tienda, Ambos).</p>
</li>
<li>
<p>Tienda → Topic.Tienda (opciones: MAD01, BCN01, VLC01, ONLINE, Todas).</p>
</li>
<li>
<p>Consejo: si el usuario elige Canal=Online, normalmente Tienda=ONLINE. Si elige Canal=Tienda, Tienda puede ser una tienda física o Todas.</p>
</li>
</ul>
<h3 id="3-rama-a-ventas-netas-tool-calculo-con-power-fx">3) Rama A — Ventas netas (Tool + cálculo con Power Fx)<a class="headerlink" href="#3-rama-a-ventas-netas-tool-calculo-con-power-fx" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Debajo del bloque de preguntas, añade un nodo Condition (Condición): si Topic.Metrica = 'Ventas netas'.</p>
</li>
<li>
<p>Dentro de la rama, añade un nodo para llamar al Tool DV_ListSalesSummary.</p>
</li>
<li>
<p>Guarda la salida del Tool en una variable tipo tabla (por ejemplo Topic.SalesRows).</p>
</li>
<li>
<p>Añade un nodo Set a variable value (Establecer variable) para filtrar filas con Power Fx (ejemplo abajo). Guarda el resultado en Topic.SalesFiltradas.</p>
</li>
<li>
<p>Añade otro Set a variable value para calcular NetSalesTotal = Sum(Topic.SalesFiltradas, NetSalesEUR).</p>
</li>
<li>
<p>Añade otro Set a variable value para calcular OrdersTotal = Sum(Topic.SalesFiltradas, Orders).</p>
</li>
<li>
<p>Añade un nodo Message para responder con el total y con el contexto (periodo/canal/tienda).</p>
</li>
</ul>
<h4 id="power-fx-copiar-y-pegar-filtrado-y-suma">Power Fx (copiar y pegar) — Filtrado y suma<a class="headerlink" href="#power-fx-copiar-y-pegar-filtrado-y-suma" title="Permanent link">&para;</a></h4>
<p>Nota: si tus columnas tienen prefijos (por el schema de Dataverse), usa los nombres exactos que te aparecen en el output del Tool.</p>
<div class="highlight"><pre><span></span><code>// Filtrar ventas por fechas, canal y tienda
Filter(
    Topic.SalesRows,
    Date &gt;= Topic.FechaInicio &amp;&amp;
    Date &lt;= Topic.FechaFin &amp;&amp;
    (Topic.Canal = &quot;Ambos&quot; || Channel = Topic.Canal) &amp;&amp;
    (Topic.Tienda = &quot;Todas&quot; || StoreID = Topic.Tienda)
)
</code></pre></div>
<div class="highlight"><pre><span></span><code>// Sumar ventas netas y pedidos
Sum(Topic.SalesFiltradas, NetSalesEUR)
</code></pre></div>
<h3 id="4-rama-b-tasa-de-devolucion-tool-calculo-definicion-citada">4) Rama B — Tasa de devolución (Tool + cálculo + definición citada)<a class="headerlink" href="#4-rama-b-tasa-de-devolucion-tool-calculo-definicion-citada" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Añade una segunda condición: si Topic.Metrica = 'Tasa de devolución (importe)'.</p>
</li>
<li>
<p>Llama a DV_ListSalesSummary y calcula NetSalesTotal igual que en la rama A (mismo filtro).</p>
</li>
<li>
<p>Llama a DV_ListReturns y guarda la salida en Topic.ReturnRows.</p>
</li>
<li>
<p>Filtra devoluciones aprobadas con Power Fx y suma el importe devuelto.</p>
</li>
<li>
<p>Calcula la tasa = RefundTotal / NetSalesTotal (si NetSalesTotal = 0, devuelve 'No aplicable').</p>
</li>
<li>
<p>Después, añade un nodo Create generative answers (respuestas generativas) para recuperar la DEFINICIÓN oficial del KPI desde FS-KB-03 (ejemplo de prompt abajo).</p>
</li>
<li>
<p>Responde con: cifra + explicación + citación del diccionario KPI.</p>
</li>
</ul>
<h4 id="power-fx-copiar-y-pegar-devoluciones-aprobadas-y-ratio">Power Fx (copiar y pegar) — Devoluciones aprobadas y ratio<a class="headerlink" href="#power-fx-copiar-y-pegar-devoluciones-aprobadas-y-ratio" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>// Filtrar devoluciones aprobadas por fechas/canal/tienda
Filter(
    Topic.ReturnRows,
    ReturnDate &gt;= Topic.FechaInicio &amp;&amp;
    ReturnDate &lt;= Topic.FechaFin &amp;&amp;
    (Topic.Canal = &quot;Ambos&quot; || Channel = Topic.Canal) &amp;&amp;
    (Topic.Tienda = &quot;Todas&quot; || StoreID = Topic.Tienda) &amp;&amp;
    Approved = &quot;Sí&quot;
)
</code></pre></div>
<div class="highlight"><pre><span></span><code>// Importe total devuelto
Sum(Topic.ReturnsFiltradas, RefundAmountEUR)
</code></pre></div>
<div class="highlight"><pre><span></span><code>// Tasa de devolución (importe)
If(
    Topic.NetSalesTotal &lt;= 0,
    Blank(),
    Topic.RefundTotal / Topic.NetSalesTotal
)
</code></pre></div>
<h4 id="prompt-sugerido-para-el-nodo-create-generative-answers-definicion-kpi">Prompt sugerido para el nodo Create generative answers (definición KPI)<a class="headerlink" href="#prompt-sugerido-para-el-nodo-create-generative-answers-definicion-kpi" title="Permanent link">&para;</a></h4>
<p>En el nodo Create generative answers, pega como 'User question' o entrada:</p>
<p>¿Cuál es la definición oficial de “tasa de devolución en importe” y su fórmula? Responde en 2–3 líneas y con citaciones.</p>
<h3 id="opcional-rama-c-alertas-stockout">(Opcional) Rama C — Alertas stockout<a class="headerlink" href="#opcional-rama-c-alertas-stockout" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Si implementas la opción C, llama al Tool DV_ListStockoutAlerts y filtra por tienda (si el usuario la indicó).</p>
</li>
<li>
<p>Responde con una lista corta (top 5) mostrando SKU + Severidad + Acción sugerida.</p>
</li>
<li>
<p>Nota: esta rama es útil para probar listados y priorización.</p>
</li>
</ul>
<h3 id="5-pruebas-guiadas-con-resultados-esperados">5) Pruebas guiadas (con resultados esperados)<a class="headerlink" href="#5-pruebas-guiadas-con-resultados-esperados" title="Permanent link">&para;</a></h3>
<p>Abre el panel Test y ejecuta estas pruebas (copia y pega). Si tus tablas se importaron bien, deberías obtener números similares:</p>
<table>
<thead>
<tr>
<th>Pregunta</th>
<th>Resultado esperado</th>
<th>Fuentes esperadas</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dame las ventas netas online entre 2026-02-01 y 2026-02-15</td>
<td>Esperado (dataset del pack): NetSalesEUR ≈ 21429.39 y Orders ≈ 272. Además, debe indicar periodo/canal y NO inventar.</td>
<td>Dataverse (FS Ventas Resumen Diario) + definición de 'ventas netas' citada en FS-KB-03 (si la incluyes).</td>
</tr>
<tr>
<td>Calcula la tasa de devolución en importe para Online en febrero 2026 y explícame la fórmula</td>
<td>Esperado: RefundTotal ≈ 22849.89; NetSales ≈ 26971.17; ratio ≈ 0.8472 (84.72%). Debe citar la fórmula desde FS-KB-03.</td>
<td>Dataverse (Ventas + Devoluciones) + FS-KB-03.</td>
</tr>
<tr>
<td>Lista 5 devoluciones aprobadas con motivo R04 en enero 2026</td>
<td>Ejemplo esperado (primeros IDs): R000005, R000016, R000018, R000022, R000043 (puede variar si ordenas distinto).</td>
<td>Dataverse (FS Devoluciones).</td>
</tr>
</tbody>
</table>
<h2 id="checklist-de-entrega">Checklist de entrega<a class="headerlink" href="#checklist-de-entrega" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>✅ Tools Dataverse creados (mínimo DV_ListSalesSummary y DV_ListReturns).</p>
</li>
<li>
<p>✅ Topic 'Consultas métricas' creado, con preguntas de parámetros y ramas.</p>
</li>
<li>
<p>✅ Cálculos hechos con Power Fx (Filter + Sum).</p>
</li>
<li>
<p>✅ Pruebas ejecutadas y resultados coherentes.</p>
</li>
<li>
<p>✅ Definiciones KPI citadas desde FS-KB-03 (si incluiste nodo generativo).</p>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.expand", "navigation.sections", "navigation.tabs", "navigation.path", "search.highlight", "search.suggest"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>